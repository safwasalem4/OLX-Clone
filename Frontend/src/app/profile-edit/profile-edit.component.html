<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Profile</title>
</head>

<body>
    <div style="margin-left: 260px;width: 1000px;" class="alert alert-info" *ngIf="ProfileEditForm.dirty">
        <strong>Information: </strong>You have made changes, any unsaved changes will be lost!
    </div>
    <div style="width: 1000px;" class="container border mt-3">
        <h5 class="m-3 fw-bolder">Edit profile</h5>
        <hr class="mx-3">
        <h6 class="m-3 fw-bolder">Basic Infromation</h6>
        <form #ProfileEditForm="ngForm" (ngSubmit)="update()" class="d-inline-flex flex-column mx-3">
            <div class="d-inline-flex flex-row">
                <div class="d-inline-flex flex-column">
                    <div>
                        <h6 style="font-size: 12px;font-weight: 400;">User Name</h6>
                        <input name="userName" [(ngModel)]="model.userName" value="model.userName"
                            placeholder="User Name" style="width: 500px;height: 50px;color: black;" type="text"
                            disabled>
                        <h6 style="font-size: 12px;font-weight: 400;" class="mt-3">First Name</h6>
                        <input name="firstName" [(ngModel)]="model.firstName" value="model.firstName"
                            placeholder="First Name" style="width: 500px;height: 50px;color: black;" type="text">
                        <h6 style="font-size: 12px;font-weight: 400;" class="mt-3">Last Name</h6>
                        <input name="lastName" [(ngModel)]="model.lastName" value="model.lastName"
                            placeholder="Last Name" style="width: 500px;height: 50px;color: black;" type="text">
                        <textarea name="aboutMe" class="mt-4"
                            style="height: 150px;width: 500px;color: black;resize: none;" [(ngModel)]="model.aboutMe"
                            [ngModelOptions]="{standalone: true}" maxlength="200"
                            placeholder="About Me(optional)"></textarea>
                    </div>
                    <div style="font-size: 12px;" class="fw-lighter">
                        <span>{{model.aboutMe.length}}</span>
                        <span>/200</span>
                    </div>
                </div>

                <div id="mo" style="height: 130px;width: 320px;position: absolute;right: 390px;margin-left: 800px;"
                    class="container border">
                    <img style="width: 27px;height:25px;" src="/assets/images/lamp.jpg" alt="">
                    <label style="font-size: 15px;font-weight: 600;">Why is it important?</label>
                    <p style="font-size: 12px;font-weight: 400;opacity: 60%;">OLX is built on trust. Help other people
                        get to know you. Tell them about the things you like. Share your favorite brands, books, movies,
                        shows, music, food. And you will see the resultsâ€¦</p>
                </div>
                <hr>
            </div>
            <hr style="margin-top: 50px;">

            <div style="margin-bottom: 60px;">
                <h6 class="fw-bolder">Contact Infromation</h6>
                <input name="phone" value="model.phone" [(ngModel)]="model.phone" class="me-3"
                    style="width: 500px;height: 50px;color: black;margin-bottom: 30px;" type="text"
                    placeholder="    Phone Number: 01XXXXXXXXX">
                <label style="font-size: 12px;font-weight: 400;opacity: 60%;">This is the number for buyers contacts,
                    reminders, and other notifications.</label>
                <input name="email" value="model.email" [(ngModel)]="model.email" class="me-3"
                    style="width: 500px;height: 50px;color: black;" type="email" placeholder="    Your_email@xxx.xxx">
                <label style="font-size: 12px;font-weight: 400;opacity: 60%;">We won't reveal your email to anyone else
                    nor use it to send you spam</label>
            </div>
            <hr>
            <div>
                <a routerLink="/home" style="color: black;font-weight: 600;"
                    class="text-decoration-underline">Discard</a>
                <button type="submit" class="btn btn-dark mb-4" style="float: right;height: 50px;font-weight: 500;">Save
                    changes</button>
            </div>
        </form>
    </div>

    <form (ngSubmit)="updatePassword()" #PasswordForm="ngForm" style="width: 1000px;" class="container border mt-3">
        <h5 class="m-3 fw-bolder">Do you want to change your password?</h5>
        <hr class="mx-3">
        <div class="d-flex flex-column mx-3">
            <div class="form-group">
                <input class="form-control" required [(ngModel)]="changeModel.currentPassword" name="currentPassword"
                    placeholder="Old Password" #old="ngModel" style="height: 50px;color: black;width: 500px;"
                    type="password">
            </div>
            <div class="mt-1" *ngIf="(old.touched)&&(old.errors)">
                <h6 style="color: red;font-size: small;">Please enter the old password</h6>
            </div>

            <div class="form-group">
                <input class="form-control" required [(ngModel)]="changeModel.newPassword" name="newPassword"
                    placeholder="New Password" #new="ngModel"
                    style="height: 50px;color: black;margin-top: 6px;width: 500px;" type="password" minlength="6">
            </div>
            <div class="mt-1" *ngIf="(new.touched)&&(new.errors)">
                <h6 style="color: red;font-size: small;">Minimum password length is 6 characters</h6>
            </div>

            <div class="form-group">
                <input class="form-control" (keyup)="compare()" required [(ngModel)]="changeModel.confirmNewPassword"
                    name="confirmNewPassword" placeholder="Confirm Password" #confirms="ngModel"
                    style="height: 50px;color: black;margin-top: 6px;width: 500px;" type="password">
            </div>
            <div class="mt-1">
                <h6 *ngIf="!confirm && confirms.touched" style="color: red;font-size: small;">Confirm password should be
                    same as new password</h6>
            </div>
        </div>
        <button [disabled]="PasswordForm.invalid || !confirm" class="btn btn-dark mb-4 mx-3 mt-4"
            style="height: 50px;font-weight: 500;">Change Password</button>
    </form>

    <div style="width: 1000px;" class="container border mt-3">
        <h5 class="m-3 fw-bolder">Delete this account</h5>
        <hr class="mx-3">
        <h5 class="m-3 fw-bolder">Are you sure you want to delete your account?</h5>
        <button (click)="openModal(template)" class="btn btn-dark mb-4 mx-3" style="height: 50px;font-weight: 500;">Yes,
            Delete</button>
        <ng-template #template>
            <div class="modal-header">
                <h4 class="modal-title pull-left">There is still time to think!</h4>
                <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
                    <span aria-hidden="true" class="visually-hidden">&times;</span>
                </button>
            </div>
            <div style="text-align: center;" class="modal-body">
                <button (click)="delete()" class="btn btn-dark mb-4" style="height: 50px;font-weight: 500;">No,
                    Delete</button>
            </div>
        </ng-template>
    </div>
</body>

</html>